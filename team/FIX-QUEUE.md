# Fix Queue — Prioritized Improvements

**Generated by Queen Bee from crawl findings. Execute in order.**

---

## Team Specializations

| Name | Specialty | Focus Areas |
|------|-----------|-------------|
| **Fizz** | UI / Components | Workbook, conversation, components, CSS, UX |
| **Buzz** | Infrastructure | Database, auth, API, connections, security |
| **Pazz** | QA | Testing, validation, verification |

**Assign work by specialty to maintain context consistency.**

---

## Summary

| Priority | Count | Description |
|----------|-------|-------------|
| **CRITICAL** | 2 | Security vulnerabilities — fix immediately |
| **HIGH** | 8 | Bugs + data loss risk + major quality gaps |
| **MEDIUM** | 18 | Maintainability, user experience |
| **LOW** | 14 | Polish, minor optimizations |
| **QA Infra** | 6 | Testing infrastructure |

**Total: 48 items (46 improvements + 2 bugs)**

---

## CRITICAL — Fix Immediately (Security)

| Item | Issue | Owner | Effort |
|------|-------|-------|--------|
| **IMP-037** | SQL injection in fetchExperiences | **Buzz** | 10 min |
| **IMP-038** | SQL injection in fetchUserLists | **Buzz** | 10 min |

**Note**: Pazz security audit found risk is LOW (values from DB, not user input), but still fix with parameterized queries.

---

## HIGH — Bugs First, Then Improvements

### Active Bugs (Priority 1)

| Bug | Issue | Owner | Effort |
|-----|-------|-------|--------|
| **BUG-009** | Multiple blocks typing (soul violation) | **Fizz** | 2 hr |
| **BUG-008** | Profile appearance save broken | **Fizz** | 1 hr |

### High-Priority Improvements (Priority 2)

| IMP | Issue | Owner | Effort |
|-----|-------|-------|--------|
| **IMP-039** | No rate limiting on auth | **Buzz** | 2 hr |
| **IMP-044** | Signup no transaction rollback | **Buzz** | 1 hr |
| **IMP-005** | Silent auto-save failures | **Fizz** | 1 hr |
| **IMP-020** | Silent catch blocks (13 locations) | **Fizz** | 2 hr |
| **IMP-029** | Missing Modal component | **Fizz** | 3 hr |
| **IMP-QA-001** | Zero unit tests | **Pazz** | DONE (infra) |
| **IMP-QA-002** | No security testing | **Pazz** | DONE |

---

## MEDIUM — Quality & Maintainability

### Workbook Refactoring — **Fizz**
| IMP | Issue | Effort |
|-----|-------|--------|
| IMP-001 | Mutable Map in render path | 1 hr |
| IMP-002 | 15 useState in ToolEmbed | 3 hr |
| IMP-003 | Expensive messages rebuild | 2 hr |

### API & Auth — **Buzz**
| IMP | Issue | Effort |
|-----|-------|--------|
| IMP-009 | Session validation duplicated | 2 hr |
| IMP-040 | withAuth middleware (same as IMP-009) | (combined) |
| IMP-042 | Profile PATCH lacks input validation | 1 hr |

### Error Handling — **Fizz**
| IMP | Issue | Effort |
|-----|-------|--------|
| IMP-021 | Data loading failures console only | 1 hr |
| IMP-022 | Most errors console only (37 locations) | 3 hr |
| IMP-023 | Single global ErrorBoundary | 2 hr |
| IMP-024 | No error telemetry | 2 hr |

### Spec Alignment — **Fizz**
| IMP | Issue | Effort |
|-----|-------|--------|
| IMP-026 | Missing Button component | 2 hr |
| IMP-033 | OnboardingFlow differs from spec | 30 min (doc update) |
| IMP-032 | ProgressMarker status values | 30 min (doc update) |

### Cleanup — **Either**
| IMP | Issue | Owner | Effort |
|-----|-------|-------|--------|
| IMP-036 | 5 orphan components (265 lines) | Fizz | 30 min |
| IMP-035 | Tailwind configured but unused | Buzz | 15 min |

### QA Infrastructure — **Pazz**
| IMP | Issue | Effort |
|-----|-------|--------|
| IMP-QA-003 | No load testing | 4 hr |
| IMP-QA-004 | No accessibility testing | 3 hr |
| IMP-QA-005 | No visual regression | 3 hr |
| IMP-QA-006 | API tests lack schema validation | 2 hr |

---

## LOW — Polish Later

### UI / Components — **Fizz**
| IMP | Issue | Effort |
|-----|-------|--------|
| IMP-004 | Initialization logic duplicated | 30 min |
| IMP-006 | ConversationThread re-renders | 1 hr |
| IMP-007 | TypingEffect interval per char | 1 hr |
| IMP-008 | getToolData recreated | 1 hr |
| IMP-010 | No loading state | 30 min |
| IMP-011 | MessageContent SSR issue | 30 min |
| IMP-012 | Multiple keydown listeners | 1 hr |
| IMP-025 | Generic error messages | 1 hr |
| IMP-027 | Missing Badge component | 1 hr |
| IMP-028 | Missing TagSelector | 2 hr |
| IMP-030 | Missing NavExpanded | 2 hr |
| IMP-031 | Missing DropdownMenu | 2 hr |
| IMP-034 | Backdrop missing props | 30 min |

### Infrastructure — **Buzz**
| IMP | Issue | Effort |
|-----|-------|--------|
| IMP-041 | Auto-save race condition | Monitor only |
| IMP-043 | Tool data no schema validation | 2 hr |

---

## Recommended Execution Order

### Sprint 1: Critical Security + Active Bugs
| Task | Owner | Effort |
|------|-------|--------|
| IMP-037, IMP-038 (SQL injection) | **Buzz** | 20 min |
| BUG-009 (ink permanence broken) | **Fizz** | 2 hr |
| BUG-008 (profile appearance) | **Fizz** | 1 hr |
| IMP-039 (rate limiting) | **Buzz** | 2 hr |
| Deploy + **Pazz** verifies | **All** | 30 min |

### Sprint 2: Data Safety
| Task | Owner | Effort |
|------|-------|--------|
| IMP-044 (signup transaction) | **Buzz** | 1 hr |
| IMP-005 (silent auto-save) | **Fizz** | 1 hr |
| IMP-020 (silent catch blocks) | **Fizz** | 2 hr |
| IMP-042 (profile validation) | **Buzz** | 1 hr |

### Sprint 3: Error Handling
| Task | Owner | Effort |
|------|-------|--------|
| IMP-021, IMP-022 (error feedback) | **Fizz** | 4 hr |
| IMP-023 (error boundaries) | **Fizz** | 2 hr |
| IMP-QA-004 (a11y testing) | **Pazz** | 3 hr |

### Sprint 4: Cleanup + Middleware
| Task | Owner | Effort |
|------|-------|--------|
| IMP-036 (delete orphans) | **Fizz** | 30 min |
| IMP-035 (remove Tailwind) | **Buzz** | 15 min |
| IMP-009/040 (withAuth middleware) | **Buzz** | 2 hr |

### Sprint 5: Workbook Refactor
| Task | Owner | Effort |
|------|-------|--------|
| IMP-001, IMP-002, IMP-003 | **Fizz** | 6 hr |
| Unit tests for WorkbookView | **Pazz** | 4 hr |

### Sprint 6+: Polish
- Remaining LOW items by specialty
- Spec alignment updates (doc changes)
- Missing components (as needed)

---

## Notes

- **SQL injection risk is LOW** (Pazz audit) — values from DB, not user input. Still fix.
- **BUG-009 is a soul violation** — prioritize highly
- **Batching by specialty** keeps context consistent
- **Fizz owns UI** — workbook, conversation, components, error UX
- **Buzz owns infra** — database, auth, API, security fixes
- **Pazz owns QA** — testing, validation, verification of all fixes
- **Spec alignment items** — many are doc updates, not code changes
